{% macro paginate(paginator) %}
  {# A generally pluggable pagination macro, just supply it with the pagination object #}
  {# formatted for Bootstrap 3 #}
  {# credit: http://ergo.io/better-pagination.html #}

  {% set view_args = request.view_args %}
  {% do view_args.pop('page', None) %}

  <nav>
    <ul class="pager">

      {% if paginator.has_prev %}
        <li class="previous active">
          <a href="{{ url_for(request.endpoint, page=paginator.prev_num, **view_args) }}"><span aria-hidden="true">&larr;</span> Newer</a>
        </li>
      {% else %}
          <li class="previous disabled"><a href="#"><span aria-hidden="true">&larr;</span> Newer</a></li>
      {% endif %}

      {% if paginator.has_next %}
        <li class="next"><a href="{{ url_for(request.endpoint, page=paginator.next_num, **view_args) }}">Older <span aria-hidden="true">&rarr;</span></a></li>
      {% else %}
        <li class="next disabled"><a href="#">Older <span aria-hidden="true">&rarr;</span></a></li>
      {% endif %}
    </ul>
  </nav>
{% endmacro %}


{% macro intro(login_form) %}
  {% if global_login_form %}
  <div class="rk-welcome panel panel-primary">
    <div class="panel-heading  bg-primary">
      <h1 class="text-primary">Welcome to Rktik <small>The Virtual Mind for Communities</small></h1>
    </div>
    <div class="panel-body">
      <p class="lead">Rktik is the first virtual cognitive system, it lets groups of people form a collective identity and make it do real things.</p>
      <p>Here you find places for having thoughtful conversations about society, politics and the world we live in, planning events and activities but also for sharing the funniest pictures you ever saw. We call these communities <em>movements</em>, because each of them unites real people in a movement towards a shared interest. </p>
      <p>Sign up now to join them or just have a look around and be surprised. </p>
    </div>
    <div class="panel-footer">
      <!-- Login form -->
      <form class="form-inline" id="rk-welcome-login" method="POST" action="{{ url_for('web.login') }}">
        {{ login_form.hidden_tag() }}
        <div class="input-group">
          <div class="input-group-addon">Email</div>
          <input type="text" id="email" name="email" class="form-control" />
        </div>
        <div class="input-group">
          <div class="input-group-addon">Password</div>
          <input type="password" id="password" name="password" class="form-control" />
        </div>
        <input type="submit" class="btn btn-primary" value='Login' />
      </form>
      <!-- Welcome actions -->
      <div class="form-inline" id="rk-welcome-actions">
        <a class="btn btn-danger" href="{{ url_for('web.signup') }}">Signup now</a>
        <button class="btn btn-default" id="rk-welcome-show-login">I have a login</button>
        <a class="btn btn-link" href="#">Learn more about Rktik</a>
      </div>
    </div>
  </div>
  {% endif %}
{% endmacro %}
